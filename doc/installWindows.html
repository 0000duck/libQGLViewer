<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>libQGLViewer installation on Windows</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link href="qglviewer.css" rel="stylesheet" type="text/css" />
  <link rel="shortcut icon" href="images/qglviewer.ico" type="image/x-icon" />
  <link rel="icon" href="images/qglviewer.icon.png" type="image/png" />
</head>
<body>

<div class="banner">
  <a class="qindex" href="index.html">Home</a>
  <a class="qindex" href="refManual/hierarchy.html">Documentation</a>
  <a class="qindex highlight" href="download.html">Download</a>
  <a class="qindex" href="examples/index.html">Examples</a>
  <a class="qindex" href="developer.html">Developer</a>
</div>

<h1>libQGLViewer installation<br/>
on <img src="images/windows.png" width="55" height="54" alt="windows"/> Windows</h1>


Simply use the <a href="#WEBURL#/src/libQGLViewer-installer.exe">libQGLViewer installer</a> in order to immediately evaluate the library from its demonstration examples and its documentation.

<p>
To actually use the library in your own programs, you first need to download and install the latest Qt version, 
available from the <a href="http://www.trolltech.com/products/qt/downloads">Trolltech web site</a>. Then follow these instructions, depending on your compiler :
</p>






<a name="mingw"></a> <h2>Using the MinGW compiler</h2>

The free MinGW compiler can optionally be installed with the OpenSource Qt 4 version as is detailed in these <a href="http://qtnode.net/wiki/Qt4_on_Windows">instructions</a>.

<p>
The <a href="#WEBURL#/src/libQGLViewer-installer.exe">libQGLViewer installer</a> installs a compiled version of the library along with its header files, so that you can directly start developing your own programs. 
See the <a href="compilation.html">compilation with libQGLViewer</a> page for details.
</p>

<br />

If you want to recompile the library from the sources, download and unzip <a
href="#WEBURL#/src/libQGLViewer-#VERSION#.zip">libQGLViewer-#VERSION#.zip</a>
and then launch the "Qt 4.x Command Prompt" installed in the Start menu and type:
<pre>
cd \path\to\libQGLViewer-#VERSION#\QGLViewer
qmake
make
</pre>

Copy the resulting <code>QGLViewer%MAJOR_NUMBER%.dll</code> (created in the <code>release</code> directory) to a system
shared directory such as <code>C:\Windows\System32</code> (or <code>C:\WINNT\system32</code> on
Windows 2000). Alternately, you can copy it to every application directory.

<p>
Then see the <a href="compilation.html">compilation with libQGLViewer</a> page for details on examples' compilation.
</p>







<a name="qtVisual"></a>
<h2>Using Visual Studio</h2>

These instructions are for Qt version 3 or 4. The Qt integration in Visual Studio comes with the commercial Qt edition, or can be achieved following these 
<a href="http://qtnode.net/wiki/Qt4_with_Visual_Studio">qt node instructions</a>.


<ul>
<li>Download and unzip <a href="#WEBURL#/src/libQGLViewer-#VERSION#.zip">libQGLViewer-#VERSION#.zip</a></li>

<li>Use the <i>Qt - Open solution from .pro file</i> <span class="redStar">*</span> menu to open
<code>QGLViewer/QGLViewer.pro</code><br/>
<span style="font-size:smaller">Visual Studio 6 only: Use <i>File-Open workspace</i> to open the <code>.dsp</code> generated
file, and select <i>Release</i> as the <i>Build/Active Configuration</i></span>.</li>

<li>Compile the library.</li>

<li>Copy <code>QGLViewer#CATVERSION#.dll</code><span class="redStar">*</span> in a system library
directory, such as <code>C:\Windows\System32</code> (or <code>C:\WINNT\system32</code> with Windows
2000). Alternately, you can copy it to every application directory.</li>

<li>See the <a href="compilation.html">compilation with libQGLViewer</a> page for details on examples' compilation.</li>
</ul>


<div style="font-size:smaller">

<span class="redStar">*</span> Names differ between the different Visual Studio versions:

<table class="blue">
<tr><th>Visual Studio 2003/2005</th><th>Visual Studio 6</th></tr>
<tr><td>Qt - Open solution from .pro file</td><td>Open/Generate Qt Project icon</td></tr>
<tr class="even"><td>Tools - Add-Ins manager - QtNet</td><td>Tools - Customize - Add-ins and Macro Files/QMsDev Add in</td></tr>
<tr><td>QGLViewer#CATVERSION#.dll</td><td>QGLViewer%MAJOR_NUMBER%.dll or QGLViewer.dll</td></tr>
</table>


<p>
If needed, the <code>.vcproj</code> file can be generated from the <code>.pro</code> file using <code>qmake -t vclib QGLViewer.pro</code>.
</p>

A <code>LNK4068 /MACHINE</code> error message can be fixed by editing <i>Project - Properties - Configuration properties - Link editor - Advanced - Target Computer</i>.

<p>
If your Qt version is lower than 3.1, you have to install the <a
href="http://www.xmission.com/~nate/glut.html">GLUT library</a> in order to have text display. Add
the paths to GLUT in your <code>Include</code> and <code>Library</code>
<i>Project-Properties</i><span class="redStar">*</span>, and copy <code>glut32.dll</code> in a
library directory.
</p>

</div>





<a name="plugin"></a>
<h2><img src="images/qt.png" width="38" height="40" alt="Qt"/> Installation of the designer plugin</h2>

The compilation and installation of the QGLViewer Designer plugin is optional. It eases
the creation of user interfaces that feature a QGLViewer widget using Designer. Simply drag and drop the QGLViewer icon
that appears in the Designer's <code>Display Widgets</code> tab to add it to your interface:

<p>
 &nbsp; &nbsp; &nbsp; &nbsp; <img src="images/designerplugin.jpg" width="638" height="222" alt="Designer plugin" />
</p>

When added to your user interface, the widget displays the standard spiral, which can be manipulated
when you test your interface. All the viewers' signals and slots are available and can be connected to the rest of your interface.

<p>
To compile the plugin, open the <code>designerPlugin.pro</code> file to create your workspace.
Install the resulting plugin library (<code>qglviewerplugin.dll</code>) in <code>$QTDIR\plugins\designer</code> and/or
<code>C:\Program Files\Trolltech\Qt VS Integration\plugins</code> to use it with the Visual Studio
integrated Designer. Note that you also have to install the QGLViewer dll in <code>C:\Windows\System32</code> (as described above).
Although successfully tested, this procedure does not seem to be sufficient with certain configurations, any explanation is more than welcome.
</p>

To create your own Designer plugin for your derived QGLViewer class, start from this code and change a few lines as explained in the source.

<p>
With Qt version 3, an alternative to this plugin is to add a "Custom Widget" using the
<i>Tools/Custom</i> designer menu. Select <i>Load Descriptions...</i> and provide the
<code>qglviewer.cw</code> custom widget description file, located in the QGLViewer header files
directory. You can customize this description for your own classes, with your own signals and slots and the header
file path.
</p>

See the <a href="examples/interface.html">interface example</a> for an illustration of a user
interface that includes a QGLViewer.





<a name="qt2.3"></a>
<h2>Using Qt version 2.3</h2>

<p>
The <a href="ftp://ftp.trolltech.com/qt/non-commercial/QtWin230-NonCommercial.exe">Qt 2.3</a> version 
is no longer supported by Trolltech, and it does not give a correct picture of
the actual Qt functionalities. However, and since it used to be the only free version available on Windows, 
libQGLViewer is fully functional with this Qt version.
Note that Qt should <i>not</i> be installed in a directory whose name contains
spaces (such as <code>Program Files</code>). You also need to download and install the 
<a href="http://www.xmission.com/~nate/glut.html">GLUT library</a> as explained above.
</p>

To compile with Qt 2.3, follow the installation procedure described above but open
<code>QGLViewer.Qt2.3.pro</code> instead.

<p>
With Visual Studio 6:
</p>
<ul>
<li>If no <code>Project created</code> dialog is displayed when you open <code>QGLViewer.pro</code>,
try to restart Visual Studio with Administrator privileges.</li>

<li>Edit <code>qglviewer.h</code> and remove the word <i>slots</i> before
<code>saveSnapshot()</code> as explained around line 515.</li>

<li>Before compilation, add <code>/GX /GR</code> in <i>Project-Settings-C-C++, Project Options</i> for
exceptions and dynamic casts.</li>

<li>Also add <code>glut32.lib</code> to <i>Projects-Settings-Link-Object/library modules</i>.</li>

<li>You may be prompted with <code>illegal call</code> error messages during the compilation of
<code>className()</code> in moc files. Simply remove the first <code>qglviewer::</code> just after
<code>strcmp(</code> and recompile.</li>

<a name="mocbug"></a>
<li>A <a href="http://www.trolltech.com/developer/tasktracker.html?id=104327+&method=entry">moc bug</a> in Qt 4.1.1
generates a <code>error C2061: syntax error : identifier 'KeyFrameInterpolator'</code> error message. Simply replace
<code>const(*)</code> by <code>const*</code> in the moc file to fix this (thanks Juergen).</li>
</ul>

<!--
If you use .NET (Thanks to Lionel for these tricks):
<ul>
<li>Generate the <code>.dsp</code> file using:
<pre>
tmake -win32 -t vclib -o QGLViewer.dsp QGLViewer.pro
</pre>
Open the file using .NET and accept all convertions into the <code>.vcproj</code>.
</li>

<li>In the project file list, right click on <code>VRenderInterface.ui</code> and select
<i>Properties</i>. Replace <code>uic</code> by <code>%QTDIR%\bin\uic</code> in <i>Custom Build,
Build command option</i>.</li>

<li>Remove <code>QT_DLL</code> from the <i>C++ preprocessor properties</i>.</li>

<li>Comment out the <code>initializeSnapshotFormats()</code> line in <code>qglviewer.cpp defaultConstructor()</code>.</li>

<li>Add a <code>NO_VECTORIAL_RENDER</code> define (snapshots are not supported with .NET and Qt 2.3).</li>

<li>Set <i>Enable Run-Time type info</i> to yes (/GR) in <i>C++ Language settings</i>.</li>

<li>Add the following static variable definitions at the beginning of <code>qglviewer.cpp</code>:
<pre>
QString QString::null;
QStringData * QString::shared_null;
QChar QChar::null;
QApplication * qApp;
</pre>
</li>
</ul>

This <a href="http://hohle.net/scrap_post.php?post=14">page</a> details how to patch Qt 2.3 to make it work with .NET.
This has not yet been tested (<a href="mailto:contact@libqglviewer.com">feedback welcome</a>), but may
avoid the previous patches/hacks. An alternative is to use the Qt4 version.



<a name="cygwin"></a>
<h2>Compilation and installation using cygwin</h2>

An other option is to install the <a href="http://www.cygwin.com/">cygwin</a> linux emulator, with
the <a hXXref="http://kde-cygwin.sourceforge.net/qt3">Qt-KDE</a> port. This was successfully tested, although
Qt had to be recompiled. You may also have to remove <code>thread</code> from the
<code>CONFIG</code> line in <code>QGLViewer.pro</code>.

<p>
Then compile QGLViewer as explained in the <a href="installUnix.html">Unix installation page</a>.
You should rename the generated <code>cygQGLViewer-1.dll</code> file to
<code>libQGLViewer.dll</code> and copy it in the <code>C:\Windows\System32</code> directory. Note
that <code>cygqt-3.dll</code> and <code>cygqui-1.dll</code> (located in <code>$(QTDIR)/bin</code> or
<code>$(QTDIR)/lib</code>) should also be copied in that directory. Thanks Jean-Gui for these
details.
</p>
-->


<p>
Please <a href="mailto:contact@libqglviewer.com">let me know</a> if you encounter installation problems.
</p>

<p>
  <a href="http://validator.w3.org/check/referer"><img src="images/xhtml.png" alt="Valid XHTML 1.0!" height="31" width="88"/></a>
  <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="images/css.png" alt="Valid CSS!" width="88" height="31"/></a>
  <i>Last modified on #DATE#.</i>
</p>
    
</body>
</html>
